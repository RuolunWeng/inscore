<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>14 Events and Interaction</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<!-- html,2,frames,index=3,info --> 
<meta name="src" content="OSCMsg.tex"> 
<meta name="date" content="2015-03-25 18:57:00"> 
<link rel="stylesheet" type="text/css" href="OSCMsg.css"> 
</head><body 
>
<!--l. 2397--><div class="crosslinks"><p class="noindent">[<a 
href="OSCMsgch15.html" >next</a>] [<a 
href="OSCMsgch13.html" >prev</a>] [<a 
href="OSCMsgch13.html#tailOSCMsgch13.html" >prev-tail</a>] [<a 
href="#tailOSCMsgch14.html">tail</a>] [<a 
href="OSCMsg3.html#OSCMsgch14.html" >up</a>] </p></div>
<h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;14</span><br /><a 
 id="x18-7600014"></a>Events and Interaction</h2>
<!--l. 2400--><p class="noindent" >Interaction messages are user defined messages associated to events and triggered when these events occur. These
messages accept variables as message arguments.
<!--l. 2402--><p class="noindent" >The general form of the message is the following:
<a 
 id="dx18-76001"></a>
<dl class="list1"><dt class="list">
</dt><dd 
class="list">
<!--l. 2408--><p class="noindent" ><div class="minipage"><span 
class="ptmri8t-">interactMsg</span> <img 
src="OSCMsg88x.png" alt="PICT" >
</div></dd></dl>
<a 
 id="dx18-76002"></a>
<a 
 id="dx18-76003"></a>
<!--l. 2412--><p class="noindent" ><span 
class="pcrr8tn-">what </span>represents the event to watch and <span 
class="pcrr8tn-">message </span>is a list of associated messages, separated by a comma.
     <ul class="itemize1">
     <li class="itemize">: clear all the messages for all the events.
     </li>
     <li class="itemize">: clear the messages associated to the <span 
class="pcrr8tn-">what </span>event.
     </li>
     <li class="itemize">:  associate  a  list  of  messages  to  the  <span 
class="pcrr8tn-">what </span>event.  With  <span 
class="pcrr8tn-">watch</span>,  the  messages  replace  previously
     associated messages. Using <span 
class="pcrr8tn-">watch+</span>, the messages are appended to the messages currently associated
     to the event.
     </li>
     <li class="itemize">: associate or add a single message to the <span 
class="pcrr8tn-">what </span>event. This form is provided for compatibility with
     previous versions.</li></ul>
<!--l. 2421--><p class="noindent" ><span 
class="ptmbc8t-">N<span 
class="small-caps">O</span><span 
class="small-caps">T</span><span 
class="small-caps">E</span>  </span><br 
class="newline" />The [1] and [2] form has no effect with the <span 
class="pcrr8tn-">watch+ </span>message. <br 
class="newline" />In some environments, the comma has a special meaning, making tricky to use it as a message separator. This is
why &#8217;:&#8217; is also accepted as separator in OSC messages. <br 
class="newline" />The <span 
class="pcrr8tn-">get watch </span>message gives all the watch messages of a node, but doesn&#8217;t take any argument.
<a 
 id="dx18-76004"></a>
<dl class="list1"><dt class="list">
</dt><dd 
class="list">
                                                                                 

                                                                                 
<!--l. 2428--><p class="noindent" ><div class="minipage"><span 
class="ptmri8t-">message</span> <img 
src="OSCMsg89x.png" alt="PICT" >
</div></dd></dl>
<!--l. 2430--><p class="noindent" >The associated messages are any valid OSC message (not restricted to the INScore message set), with an
extended address scheme, supporting IP addresses or host names and udp port number to be specified
as OSC addresses prefix. The message parameters are any valid OSC type or variable (see section
<a 
href="#x18-8200014.2">14.2<!--tex4ht:ref: interactvar --></a>).
<a 
 id="dx18-76005"></a>
<dl class="list1"><dt class="list">
</dt><dd 
class="list">
<!--l. 2435--><p class="noindent" ><div class="minipage"><span 
class="ptmri8t-">addressPrefix</span> <img 
src="OSCMsg90x.png" alt="PICT" >
</div> </dd></dl>
<!--l. 2437--><p class="noindent" ><span 
class="ptmbc8t-">E<span 
class="small-caps">X</span><span 
class="small-caps">A</span><span 
class="small-caps">M</span><span 
class="small-caps">P</span><span 
class="small-caps">L</span><span 
class="small-caps">E</span> </span><br 
class="newline" />An extended address to send messages to <span 
class="pcrr8tn-">localhost </span>on port <span 
class="pcrr8tn-">12000</span>:
<div class="center" 
>
<!--l. 2439--><p class="noindent" >
<div 
class="colorbox" id="colorbox78"> <div class="minipage"><span 
class="pcrr8tn-x-x-90">localhost:12000/your/osc/address;</span>
</div></div>
</div>
<h3 class="sectionHead"><span class="titlemark">14.1    </span> <a 
 id="x18-7700014.1"></a>Events</h3>
<!--l. 2449--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">14.1.1    </span> <a 
 id="x18-7800014.1.1"></a>UI events</h4>
<!--l. 2452--><p class="noindent" >User interface events are typical mouse events:
<a 
 id="dx18-78001"></a>
<dl class="list1"><dt class="list">
</dt><dd 
class="list">
                                                                                 

                                                                                 
<!--l. 2455--><p class="noindent" ><div class="minipage"><span 
class="ptmri8t-">what</span> <img 
src="OSCMsg91x.png" alt="PICT" >
</div></dd></dl>
<a 
 id="dx18-78002"></a>
<a 
 id="dx18-78003"></a>
<a 
 id="dx18-78004"></a>
<a 
 id="dx18-78005"></a>
<a 
 id="dx18-78006"></a>
<a 
 id="dx18-78007"></a>
<!--l. 2463--><p class="noindent" ><span 
class="ptmbc8t-">E<span 
class="small-caps">X</span><span 
class="small-caps">A</span><span 
class="small-caps">M</span><span 
class="small-caps">P</span><span 
class="small-caps">L</span><span 
class="small-caps">E</span> </span><br 
class="newline" />Triggering a message on mouse down:
<div class="center" 
>
<!--l. 2465--><p class="noindent" >
<div 
class="colorbox" id="colorbox79"> <div class="minipage"><span 
class="pcrr8tn-x-x-90">/ITL/scene/myObject watch mouseDown (/ITL/scene/myObject show 0);</span>
</div></div>
</div>
<!--l. 2466--><p class="noindent" >&#x00A0;       the object hides itself on mouse click. <br 
class="newline" />Triggering a message on mouse down but addressed to another host on udp port 12100:
<div class="center" 
>
<!--l. 2468--><p class="noindent" >
<div 
class="colorbox" id="colorbox80"> <div class="minipage"><span 
class="pcrr8tn-x-x-90">/ITL/scene/myObject watch mouseDown (host.domain.org:12100/an/address start);</span>
</div></div>
</div>
<!--l. 2470--><p class="noindent" ><span 
class="ptmbc8t-">N<span 
class="small-caps">O</span><span 
class="small-caps">T</span><span 
class="small-caps">E</span>  </span><br 
class="newline" />UI events are not supported by objects that are synchronized as slave.
<!--l. 2473--><p class="noindent" >Mouse events can be simulated using a <span 
class="pcrr8tn-">event </span>message:
<a 
 id="dx18-78008"></a>
<dl class="list1"><dt class="list">
</dt><dd 
class="list">
<!--l. 2476--><p class="noindent" ><div class="minipage"><span 
class="ptmri8t-">uievt</span> <img 
src="OSCMsg92x.png" alt="PICT" >
</div> </dd></dl>
                                                                                 

                                                                                 
<a 
 id="dx18-78009"></a>
<!--l. 2478--><p class="noindent" >where <span 
class="pcrr8tn-">mouseEvent </span>is one of the events described above, <span 
class="pcrr8tn-">x </span>and <span 
class="pcrr8tn-">y </span>are integer values giving the click position,
expressed in pixels and relative to the target object.
<!--l. 2480--><p class="noindent" ><span 
class="ptmbc8t-">E<span 
class="small-caps">X</span><span 
class="small-caps">A</span><span 
class="small-caps">M</span><span 
class="small-caps">P</span><span 
class="small-caps">L</span><span 
class="small-caps">E</span> </span><br 
class="newline" />Simulating a mouse down at position 10, 10 :
<div class="center" 
>
<!--l. 2482--><p class="noindent" >
<div 
class="colorbox" id="colorbox81"> <div class="minipage"><span 
class="pcrr8tn-x-x-90">/ITL/scene/myObject event mouseDown 10 10;</span>
</div></div>
</div>
<!--l. 2487--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">14.1.2    </span> <a 
 id="x18-7900014.1.2"></a>Time events</h4>
<!--l. 2490--><p class="noindent" >Events are also defined on the time domain:
<a 
 id="dx18-79001"></a>
<dl class="list1"><dt class="list">
</dt><dd 
class="list">
<!--l. 2494--><p class="noindent" ><div class="minipage"><span 
class="ptmri8t-">what</span> <img 
src="OSCMsg93x.png" alt="PICT" >
</div></dd></dl>
<a 
 id="dx18-79002"></a>
<a 
 id="dx18-79003"></a>
<a 
 id="dx18-79004"></a>
<a 
 id="dx18-79005"></a>
<!--l. 2500--><p class="noindent" >Each event takes a time interval as parameter, defined by two <span 
class="pcrr8tn-">time </span>specifications (see section <a 
href="OSCMsgch3.html#x7-210003">3<!--tex4ht:ref: time --></a> p.<a 
href="OSCMsgch3.html#x7-210003">27<!--tex4ht:ref: time --></a> for the time
format)
     <ul class="itemize1">
     <li class="itemize"><span 
class="pcrr8tn-">timeEnter</span>,  <span 
class="pcrr8tn-">timeLeave </span>are  triggered  when  an  object  date  is  moved  to  or  out  of  a  watched  time
     interval,
     </li>
     <li class="itemize"><span 
class="pcrr8tn-">durEnter</span>, <span 
class="pcrr8tn-">durLeave </span>are triggered when an object duration is moved to or out of a watched time
     interval.</li></ul>
<!--l. 2507--><p class="noindent" ><span 
class="ptmbc8t-">E<span 
class="small-caps">X</span><span 
class="small-caps">A</span><span 
class="small-caps">M</span><span 
class="small-caps">P</span><span 
class="small-caps">L</span><span 
class="small-caps">E</span> </span><br 
class="newline" />An object that moves a score to a given page number when it enters its time zone.
<div class="center" 
>
                                                                                 

                                                                                 
<!--l. 2509--><p class="noindent" >
<div 
class="colorbox" id="colorbox82">
<div class="minipage"><span 
class="pcrr8tn-x-x-90">/ITL/scene/myObject watch timeEnter 10/1 18/1 (/ITL/scene/score page 2);</span>
</div></div>
</div>
<!--l. 2513--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">14.1.3    </span> <a 
 id="x18-8000014.1.3"></a>URL events</h4>
<!--l. 2516--><p class="noindent" ><span 
class="pcrr8tn-">url </span>objects (i.e. intermediate objects for URL based objects (see section <a 
href="OSCMsgch5.html#x9-300005.7">5.7<!--tex4ht:ref: filebasedrsrc --></a> p.<a 
href="OSCMsgch5.html#x9-300005.7">39<!--tex4ht:ref: filebasedrsrc --></a>) support specific events, intended
to reflect the transaction state:
<a 
 id="dx18-80001"></a>
<dl class="list1"><dt class="list">
</dt><dd 
class="list">
<!--l. 2522--><p class="noindent" ><div class="minipage"><span 
class="ptmri8t-">what</span> <img 
src="OSCMsg94x.png" alt="PICT" >
</div></dd></dl>
<a 
 id="dx18-80002"></a>
<a 
 id="dx18-80003"></a>
<a 
 id="dx18-80004"></a>
     <ul class="itemize1">
     <li class="itemize"><span 
class="pcrr8tn-">success </span>is triggered when the data have been downloaded,
     </li>
     <li class="itemize"><span 
class="pcrr8tn-">error </span>is triggered when an error has occurred during the download,
     </li>
     <li class="itemize"><span 
class="pcrr8tn-">cancel </span>is triggered when the target url or the object type is changed while downloading.</li></ul>
<!--l. 2533--><p class="noindent" ><span 
class="ptmbc8t-">E<span 
class="small-caps">X</span><span 
class="small-caps">A</span><span 
class="small-caps">M</span><span 
class="small-caps">P</span><span 
class="small-caps">L</span><span 
class="small-caps">E</span> </span><br 
class="newline" />Triggering an error message in case of failure :
<div class="center" 
>
<!--l. 2539--><p class="noindent" >
<div 
class="colorbox" id="colorbox83"> <div class="minipage"><span 
class="pcrr8tn-x-x-90">/ITL/scene/score set gmnf "http://ahost.adomain.org/score.gmn";</span><br 
class="newline" /><span 
class="pcrr8tn-x-x-90">/ITL/scene/score watch error(</span><br 
class="newline" /><span 
class="pcrr8tn-x-x-90">&#x00A0;   /ITL/scene/status set txt "Failed to download file"</span><br 
class="newline" /><span 
class="pcrr8tn-x-x-90">);</span></div></div>
</div>
                                                                                 

                                                                                 
<!--l. 2544--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">14.1.4    </span> <a 
 id="x18-8100014.1.4"></a>Miscellaneous events</h4>
<a 
 id="dx18-81001"></a>
<dl class="list1"><dt class="list">
</dt><dd 
class="list">
<!--l. 2552--><p class="noindent" ><div class="minipage"><span 
class="ptmri8t-">what</span> <img 
src="OSCMsg95x.png" alt="PICT" >
</div></dd></dl>
<a 
 id="dx18-81002"></a>
<a 
 id="dx18-81003"></a>
<a 
 id="dx18-81004"></a>
<a 
 id="dx18-81005"></a>
     <ul class="itemize1">
     <li class="itemize">the <span 
class="pcrr8tn-">export </span>event is supported by all the components. It is triggered after an export message has been
     handled and could be used to simulate synchronous exports.
     </li>
     <li class="itemize">the <span 
class="pcrr8tn-">newElement </span>event is supported at scene level only and triggered when a new element is added to
     the scene.
     </li>
     <li class="itemize">the <span 
class="pcrr8tn-">endPaint </span>event is supported at scene level only and triggered after a scene has been painted.
     </li>
     <li class="itemize">the <span 
class="pcrr8tn-">del </span>event is triggered when an object is being deleted.</li></ul>
<!--l. 2565--><p class="noindent" ><span 
class="ptmbc8t-">E<span 
class="small-caps">X</span><span 
class="small-caps">A</span><span 
class="small-caps">M</span><span 
class="small-caps">P</span><span 
class="small-caps">L</span><span 
class="small-caps">E</span> </span><br 
class="newline" />Displaying a welcome message to new elements:
<div class="center" 
>
<!--l. 2567--><p class="noindent" >
<div 
class="colorbox" id="colorbox84"> <div class="minipage"><span 
class="pcrr8tn-x-x-90">/ITL/scene watch newElement (/ITL/scene/msg set txt "Welcome");</span>
</div></div>
</div>
<!--l. 2571--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">14.2    </span> <a 
 id="x18-8200014.2"></a>Variables</h3>
<!--l. 2574--><p class="noindent" >Variables are values computed when an event is triggered. These values are send in place of the variable. A variable
name starts with a &#8217;$&#8217; sign.
                                                                                 

                                                                                 
<!--l. 2577--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">14.2.1    </span> <a 
 id="x18-8300014.2.1"></a>Position variables</h4>
<!--l. 2580--><p class="noindent" >Position variables reflects the current mouse position for mouse events. They are set to <span 
class="pcrr8tn-">0 </span>for the other
events.
<a 
 id="dx18-83001"></a>
<dl class="list1"><dt class="list">
</dt><dd 
class="list">
<!--l. 2584--><p class="noindent" ><div class="minipage"><span 
class="ptmri8t-">posVar</span> <img 
src="OSCMsg96x.png" alt="PICT" >
</div></dd></dl>
<a 
 id="dx18-83002"></a>
<a 
 id="dx18-83003"></a>
<a 
 id="dx18-83004"></a>
<a 
 id="dx18-83005"></a>
<a 
 id="dx18-83006"></a>
<a 
 id="dx18-83007"></a>
<!--l. 2592--><p class="noindent" >where
<a 
 id="dx18-83008"></a>
<dl class="list1"><dt class="list">
</dt><dd 
class="list">
<!--l. 2595--><p class="noindent" ><div class="minipage"><span 
class="ptmri8t-">xy</span> <img 
src="OSCMsg97x.png" alt="PICT" >
</div></dd></dl>
     <ul class="itemize1">
     <li class="itemize"><span 
class="pcrr8tn-">$x$y</span>: denotes the mouse pointer position at the time of the event. The values are in the range <span 
class="pcrr8tn-">[0,1]</span>
     where 1 is the object size in the x or y dimension. The value is computed according to the object
     origin: it represents the mouse pointer distance from the object x or y origin (see <a 
href="OSCMsgch2.html#x6-100002.1.3">2.1.3<!--tex4ht:ref: origin --></a> p.<a 
href="OSCMsgch2.html#x6-100002.1.3">15<!--tex4ht:ref: origin --></a>). <span 
class="pcrr8tn-">$x </span>and
     <span 
class="pcrr8tn-">$y </span>variables support an optional range in the form <span 
class="pcrr8tn-">[low, high] </span>that transforms the <span 
class="pcrr8tn-">[0,1] </span>values
     range into the <span 
class="pcrr8tn-">[low, high] </span>range.
     </li>
     <li class="itemize"><span 
class="pcrr8tn-">$absx $absy</span>:  denotes  the  mouse  pointer  absolute  position  at  the  time  of  the  event.  The  values
     represent a pixel position relative to the top-left point of the target object. Note that this position
     is unaffected by scale. Note also that the values are not clipped to the object dimensions and could
     exceed its width or height or become negative in case of mouse move events.
                                                                                 

                                                                                 
     </li>
     <li class="itemize"><span 
class="pcrr8tn-">$sx$sy</span>: denotes the mouse pointer position in the scene coordinates space.</li></ul>
<!--l. 2606--><p class="noindent" ><span 
class="ptmbc8t-">E<span 
class="small-caps">X</span><span 
class="small-caps">A</span><span 
class="small-caps">M</span><span 
class="small-caps">P</span><span 
class="small-caps">L</span><span 
class="small-caps">E</span> </span><br 
class="newline" />An object that follows mouse move.<br 
class="newline" />
<div class="center" 
>
<!--l. 2610--><p class="noindent" >
<div 
class="colorbox" id="colorbox85"> <div class="minipage"><span 
class="pcrr8tn-x-x-90">/ITL/scene/myObject watch mouseDown ( </span><br 
class="newline" /><span 
class="pcrr8tn-x-x-90">&#x00A0;</span><span 
class="pcrr8tn-x-x-90">&#x00A0;</span><span 
class="pcrr8tn-x-x-90">&#x00A0;</span><span 
class="pcrr8tn-x-x-90">&#x00A0;</span><span 
class="pcrr8tn-x-x-90">&#x00A0;                   /ITL/scene/myObject x &#8217;$sx&#8217;, </span><br 
class="newline" /><span 
class="pcrr8tn-x-x-90">&#x00A0;</span><span 
class="pcrr8tn-x-x-90">&#x00A0;</span><span 
class="pcrr8tn-x-x-90">&#x00A0;</span><span 
class="pcrr8tn-x-x-90">&#x00A0;</span><span 
class="pcrr8tn-x-x-90">&#x00A0;                   /ITL/scene/myObject y &#8217;$sy&#8217; );</span></div></div>
</div>
<!--l. 2614--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">14.2.2    </span> <a 
 id="x18-8400014.2.2"></a>Time variables</h4>
<!--l. 2617--><p class="noindent" >Time variables reflects the date corresponding to the current mouse position for mouse events. They are set to <span 
class="pcrr8tn-">0 </span>for
the other events.
<dl class="list1"><dt class="list">
</dt><dd 
class="list">
<!--l. 2622--><p class="noindent" ><div class="minipage"><!--l. 2622--><p class="center" ><img 
src="OSCMsg98x.png" alt="PICT" >
</div></dd></dl>
<a 
 id="dx18-84001"></a>
<a 
 id="dx18-84002"></a>
     <ul class="itemize1">
     <li class="itemize"><span 
class="pcrr8tn-">$date</span>: denotes the object date corresponding to the mouse pointer position at the time of the event.
     It is optionnaly followed by a colon and the name of the mapping to be used to compute the date.
     The <span 
class="pcrr8tn-">$date </span>variable is replaced by its rational value (i.e. two integers values). The optional rational
     enclosed in brackets may be used to indicate a quantification: the date value is rounded to an integer
     count of the specified rational value. The optional <span 
class="pcrr8tn-">%f </span>may be used to get the date delivered as a float
     value.
     </li>
     <li class="itemize"><span 
class="pcrr8tn-">$rdate</span>:  is  similar  to  <span 
class="pcrr8tn-">$date </span>but  ignores  the  target  current  date:  the  date  is  relative  to  the  object
     mapping only.</li></ul>
<!--l. 2631--><p class="noindent" ><span 
class="ptmbc8t-">N<span 
class="small-caps">O</span><span 
class="small-caps">T</span><span 
class="small-caps">E</span>  </span><br 
class="newline" />A variable can be used several times in a message, but several <span 
class="pcrr8tn-">$date </span>variables must always refer to the same
mapping.
<!--l. 2634--><p class="noindent" ><span 
class="ptmbc8t-">E<span 
class="small-caps">X</span><span 
class="small-caps">A</span><span 
class="small-caps">M</span><span 
class="small-caps">P</span><span 
class="small-caps">L</span><span 
class="small-caps">E</span> </span><br 
class="newline" />Sending the current date as a float value to an external application:<br 
class="newline" />
<div class="center" 
>
                                                                                 

                                                                                 
<!--l. 2636--><p class="noindent" >
<div 
class="colorbox" id="colorbox86"> <div class="minipage"><span 
class="pcrr8tn-x-x-90">/ITL/scene/myObject watch mouseDown ( targetHost:12000/date &#8217;$date%f&#8217; );</span>
</div></div>
</div>
<!--l. 2639--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">14.2.3    </span> <a 
 id="x18-8500014.2.3"></a>Miscellaneous variables</h4>
<a 
 id="dx18-85001"></a>
<dl class="list1"><dt class="list">
</dt><dd 
class="list">
<!--l. 2644--><p class="noindent" ><div class="minipage"><span 
class="ptmri8t-">variable</span> <img 
src="OSCMsg99x.png" alt="PICT" >
</div></dd></dl>
<a 
 id="dx18-85002"></a>
<a 
 id="dx18-85003"></a>
<a 
 id="dx18-85004"></a>
     <ul class="itemize1">
     <li class="itemize"><span 
class="pcrr8tn-">$name </span>is replaced by the target object name.
     </li>
     <li class="itemize"><span 
class="pcrr8tn-">$scene </span>is replaced by the target object scene name.
     </li>
     <li class="itemize"><span 
class="pcrr8tn-">$address </span>is replaced by the target object OSC address.</li></ul>
<!--l. 2655--><p class="noindent" ><span 
class="ptmbc8t-">N<span 
class="small-caps">O</span><span 
class="small-caps">T</span><span 
class="small-caps">E</span>  </span><br 
class="newline" />For the <span 
class="pcrr8tn-">newElement </span>event, the target object is the new element.
<!--l. 2658--><p class="noindent" ><span 
class="ptmbc8t-">E<span 
class="small-caps">X</span><span 
class="small-caps">A</span><span 
class="small-caps">M</span><span 
class="small-caps">P</span><span 
class="small-caps">L</span><span 
class="small-caps">E</span> </span><br 
class="newline" />Using an object name:
<div class="center" 
>
<!--l. 2660--><p class="noindent" >
<div 
class="colorbox" id="colorbox87"> <div class="minipage"><span 
class="pcrr8tn-x-x-90">/ITL/scene watch newElement (/ITL/scene/welcome set txt "Welcome" &#8217;$name&#8217;);</span>
</div></div>
</div>
                                                                                 

                                                                                 
<!--l. 2664--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">14.2.4    </span> <a 
 id="x18-8600014.2.4"></a>Message based variables</h4>
<!--l. 2667--><p class="noindent" >A message based variable is a variable containing an OSC message which will be evaluated at the time of the event.
They are supported by all kind of events. Like the variables above, a message based variable starts with a &#8217;$&#8217; sign
followed by a valid &#8217;get&#8217; message enclosed in parenthesis:
<a 
 id="dx18-86001"></a>
<dl class="list1"><dt class="list">
</dt><dd 
class="list">
<!--l. 2670--><p class="noindent" ><div class="minipage"><span 
class="ptmri8t-">msgVar</span> <img 
src="OSCMsg100x.png" alt="PICT" >
</div></dd></dl>
<!--l. 2672--><p class="noindent" >The evaluation of a &#8217;get&#8217; message produces a message or a list of messages. The message based variable will be
replaced by the parameters of the messages resulting from the evaluation of the &#8217;get&#8217; message. Note that all the &#8217;get&#8217;
messages attached to an event are evaluated at the same time.
<!--l. 2675--><p class="noindent" ><span 
class="ptmbc8t-">E<span 
class="small-caps">X</span><span 
class="small-caps">A</span><span 
class="small-caps">M</span><span 
class="small-caps">P</span><span 
class="small-caps">L</span><span 
class="small-caps">E</span> </span><br 
class="newline" />An object that takes the <span 
class="pcrr8tn-">x </span>position of another object on mouse down:
<div class="center" 
>
<!--l. 2678--><p class="noindent" >
<div 
class="colorbox" id="colorbox88"> <div class="minipage"><span 
class="pcrr8tn-x-x-90">/ITL/scene/myObject watch mouseDown </span><br 
class="newline" /><span 
class="pcrr8tn-x-x-90">&#x00A0;</span><span 
class="pcrr8tn-x-x-90">&#x00A0;</span><span 
class="pcrr8tn-x-x-90">&#x00A0;</span><span 
class="pcrr8tn-x-x-90">&#x00A0;</span><span 
class="pcrr8tn-x-x-90">&#x00A0;                   (/ITL/scene/myObject x &#8217;$(/ITL/scene/obj get x)&#8217;);</span></div></div>
</div>
<!--l. 2683--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">14.2.5    </span> <a 
 id="x18-8700014.2.5"></a>OSC address variables</h4>
<!--l. 2685--><p class="noindent" >The OSC address of a message associated to an event supports the following variables:
     <ul class="itemize1">
     <li class="itemize"><span 
class="pcrr8tn-">$self</span>: replaced by the object name.
     </li>
     <li class="itemize"><span 
class="pcrr8tn-">$scene</span>: replaced by the scene name.</li></ul>
<!--l. 2691--><p class="noindent" ><span 
class="ptmbc8t-">E<span 
class="small-caps">X</span><span 
class="small-caps">A</span><span 
class="small-caps">M</span><span 
class="small-caps">P</span><span 
class="small-caps">L</span><span 
class="small-caps">E</span> </span><br 
class="newline" />Requesting a set of objects to send a message to themselves on a mouse event:
<div class="center" 
>
<!--l. 2695--><p class="noindent" >
<div 
class="colorbox" id="colorbox89"> <div class="minipage"><span 
class="pcrr8tn-x-x-90">/ITL/scene/* watch mouseDown </span><span 
class="pcrr8tn-x-x-90">&#x00A0;</span><span 
class="pcrr8tn-x-x-90">&#x00A0;</span><span 
class="pcrr8tn-x-x-90">&#x00A0;</span><span 
class="pcrr8tn-x-x-90">&#x00A0;</span><span 
class="pcrr8tn-x-x-90">&#x00A0;               ! request all the objects of the</span>
<span 
class="pcrr8tn-x-x-90">scene </span><br 
class="newline" /><span 
class="pcrr8tn-x-x-90">&#x00A0;</span><span 
class="pcrr8tn-x-x-90">&#x00A0;</span><span 
class="pcrr8tn-x-x-90">&#x00A0;</span><span 
class="pcrr8tn-x-x-90">&#x00A0;</span><span 
class="pcrr8tn-x-x-90">&#x00A0;                 (/ITL/scene/$self x &#8217;$sx&#8217;); ! to send a message to</span>
<span 
class="pcrr8tn-x-x-90">themselves</span></div></div>
</div>
                                                                                 

                                                                                 
<!--l. 2699--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">14.3    </span> <a 
 id="x18-8800014.3"></a>Interaction state management</h3>
<!--l. 2702--><p class="noindent" >For a given object, its <span 
class="ptmri8t-">interaction state </span>(i.e. the watched events and the associated messages) can be saved and
restored.
<a 
 id="dx18-88001"></a>
<dl class="list1"><dt class="list">
</dt><dd 
class="list">
<!--l. 2705--><p class="noindent" ><div class="minipage"><span 
class="ptmri8t-">stateMsg</span> <img 
src="OSCMsg101x.png" alt="PICT" >
</div></dd></dl>
<a 
 id="dx18-88002"></a>
<a 
 id="dx18-88003"></a>
<!--l. 2709--><p class="noindent" >Interaction states are managed using a stack where the states are pushed to or popped from.
     <ul class="itemize1">
     <li class="itemize"><span 
class="pcrr8tn-">push</span>: push the current interaction state on top of the stack.
     </li>
     <li class="itemize"><span 
class="pcrr8tn-">pop</span>: replace the current interaction state with the one popped from the top of the stack.</li></ul>
<!--l. 2715--><p class="noindent" >The different states stored in this stack can be obtain with the message :
<a 
 id="dx18-88004"></a>
<dl class="list1"><dt class="list">
</dt><dd 
class="list">
<!--l. 2719--><p class="noindent" ><div class="minipage"><span 
class="ptmri8t-">stackMsg</span> <img 
src="OSCMsg102x.png" alt="PICT" >
</div></dd></dl>
<!--l. 2721--><p class="noindent" ><span 
class="ptmbc8t-">N<span 
class="small-caps">O</span><span 
class="small-caps">T</span><span 
class="small-caps">E</span>  </span><br 
class="newline" />The effect of a pop message addressed to an object with an empty stack is to clear the object current interaction
state.
<!--l. 2727--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">14.4    </span> <a 
 id="x18-8900014.4"></a>File watcher</h3>
<!--l. 2730--><p class="noindent" >The <span 
class="pcrr8tn-">fileWatcher </span>is a static node of a scene that is intended to watch file modifications. <br 
class="newline" />It receives messages at the address <span 
class="pcrr8tn-">/ITL/scene/fileWatcher</span>.
<!--l. 2733--><p class="noindent" >The <span 
class="pcrr8tn-">fileWatcher </span>support the <span 
class="pcrr8tn-">watch </span>and <span 
class="pcrr8tn-">watch+ </span>messages as described in section <a 
href="#x18-7600014">14<!--tex4ht:ref: interaction --></a> p.<a 
href="#x18-7600014">111<!--tex4ht:ref: interaction --></a> with a file name used
in place of the <span 
class="pcrr8tn-">what </span>parameter.
<a 
 id="dx18-89001"></a>
<dl class="list1"><dt class="list">
</dt><dd 
class="list">
                                                                                 

                                                                                 
<!--l. 2737--><p class="noindent" ><div class="minipage"><span 
class="ptmri8t-">fileWatcher</span> <img 
src="OSCMsg103x.png" alt="PICT" >
</div></dd></dl>
<a 
 id="dx18-89002"></a>
<a 
 id="dx18-89003"></a>
<!--l. 2741--><p class="noindent" ><span 
class="ptmbc8t-">E<span 
class="small-caps">X</span><span 
class="small-caps">A</span><span 
class="small-caps">M</span><span 
class="small-caps">P</span><span 
class="small-caps">L</span><span 
class="small-caps">E</span> </span><br 
class="newline" />Reload aa INScore script on file modification:
<div class="center" 
>
<!--l. 2746--><p class="noindent" >
<div 
class="colorbox" id="colorbox90"> <div class="minipage">  <span 
class="pcrr8tn-x-x-90">/ITL/scene/fileWatcher wach &#8217;myScript.inscore&#8217; </span><br 
class="newline" /><span 
class="pcrr8tn-x-x-90">&#x00A0;</span><span 
class="pcrr8tn-x-x-90">&#x00A0;</span><span 
class="pcrr8tn-x-x-90">&#x00A0;</span><span 
class="pcrr8tn-x-x-90">&#x00A0;</span><span 
class="pcrr8tn-x-x-90">&#x00A0;                   ( /ITL/scene load &#8217;myScript.inscore&#8217; );</span></div></div>
</div>
                                                                                 

                                                                                 
<!--l. 2768--><div class="crosslinks"><p class="noindent">[<a 
href="OSCMsgch15.html" >next</a>] [<a 
href="OSCMsgch13.html" >prev</a>] [<a 
href="OSCMsgch13.html#tailOSCMsgch13.html" >prev-tail</a>] [<a 
href="OSCMsgch14.html" >front</a>] [<a 
href="OSCMsg3.html#OSCMsgch14.html" >up</a>] </p></div>
<!--l. 2768--><p class="noindent" ><a 
 id="tailOSCMsgch14.html"></a>  
</body></html> 
